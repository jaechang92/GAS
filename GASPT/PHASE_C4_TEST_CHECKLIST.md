# Phase C-4 테스트 체크리스트

**작성일**: 2025-11-18
**Phase**: C-4 - 아이템 드롭 및 장착 시스템
**목적**: 아이템 드롭, 획득, 인벤토리, 장착 시스템 테스트

---

## 📋 테스트 개요

이 체크리스트는 Phase C-4 아이템 드롭 및 인벤토리 시스템의 정상 동작을 확인하기 위한 것입니다.

### 테스트 환경

- **Scene**: GameplayScene
- **플레이 모드**: Unity Play Mode
- **필수 오브젝트**: Player, Canvas, InventoryPanel, Enemies

---

## 🎯 테스트 카테고리

1. [LootTable 설정 확인](#1-loottable-설정-확인)
2. [아이템 드롭 테스트](#2-아이템-드롭-테스트)
3. [아이템 획득 테스트](#3-아이템-획득-테스트)
4. [인벤토리 UI 테스트](#4-인벤토리-ui-테스트)
5. [장비 장착 테스트](#5-장비-장착-테스트)
6. [장비 해제 테스트](#6-장비-해제-테스트)
7. [통합 테스트](#7-통합-테스트)

---

## 1. LootTable 설정 확인

### 테스트 목적
LootTable 에셋이 올바르게 생성되고 EnemyData에 연결되었는지 확인

### 체크리스트

- [ ] **LootTable 에셋 존재 확인**
  - [ ] `Assets/_Project/Data/Loot/NormalLootTable.asset` 존재
  - [ ] `Assets/_Project/Data/Loot/EliteLootTable.asset` 존재
  - [ ] `Assets/_Project/Data/Loot/BossLootTable.asset` 존재

- [ ] **NormalLootTable 설정 확인**
  - [ ] Loot Entries 크기: 3
  - [ ] FireSword 드롭 확률: 10%
  - [ ] LeatherArmor 드롭 확률: 10%
  - [ ] IronRing 드롭 확률: 10%
  - [ ] Allow No Drop: ✅ (체크됨)

- [ ] **EliteLootTable 설정 확인**
  - [ ] Loot Entries 크기: 3
  - [ ] FireSword 드롭 확률: 20%
  - [ ] LeatherArmor 드롭 확률: 20%
  - [ ] IronRing 드롭 확률: 20%
  - [ ] Allow No Drop: ✅ (체크됨)

- [ ] **BossLootTable 설정 확인**
  - [ ] Loot Entries 크기: 3
  - [ ] FireSword 드롭 확률: 40%
  - [ ] LeatherArmor 드롭 확률: 30%
  - [ ] IronRing 드롭 확률: 30%
  - [ ] Allow No Drop: ❌ (체크 해제됨, 100% 드롭)

- [ ] **EnemyData 연결 확인**
  - [ ] `PlatformerEnemy_Goblin` → NormalLootTable 연결
  - [ ] `PlatformerEnemy_EliteOrc` → EliteLootTable 연결
  - [ ] `BossEnemy_FireDragon` → BossLootTable 연결

### 예상 결과
- 모든 LootTable 에셋이 올바른 설정으로 생성되어 있음
- EnemyData의 Loot Table 필드가 올바른 LootTable을 가리킴

---

## 2. 아이템 드롭 테스트

### 테스트 목적
적 처치 시 아이템이 확률적으로 드롭되는지 확인

### 체크리스트

#### 2-1. 일반 적 (Goblin) 드롭 테스트

- [ ] **Setup**
  - [ ] Play 모드 진입
  - [ ] Goblin 스폰 확인

- [ ] **드롭 테스트 (10회 반복)**
  - [ ] Goblin 처치 (1/10)
  - [ ] Goblin 처치 (2/10)
  - [ ] Goblin 처치 (3/10)
  - [ ] Goblin 처치 (4/10)
  - [ ] Goblin 처치 (5/10)
  - [ ] Goblin 처치 (6/10)
  - [ ] Goblin 처치 (7/10)
  - [ ] Goblin 처치 (8/10)
  - [ ] Goblin 처치 (9/10)
  - [ ] Goblin 처치 (10/10)

- [ ] **결과 확인**
  - [ ] 약 30% (3회 정도) 아이템 드롭 발생
  - [ ] 드롭된 아이템 종류: FireSword, LeatherArmor, IronRing 중 하나
  - [ ] Console 로그: `[Enemy] Goblin 아이템 드롭 시도`

#### 2-2. 정예 적 (EliteOrc) 드롭 테스트

- [ ] **드롭 테스트 (10회 반복)**
  - [ ] EliteOrc 처치 (1/10)
  - [ ] EliteOrc 처치 (2/10)
  - [ ] EliteOrc 처치 (3/10)
  - [ ] EliteOrc 처치 (4/10)
  - [ ] EliteOrc 처치 (5/10)
  - [ ] EliteOrc 처치 (6/10)
  - [ ] EliteOrc 처치 (7/10)
  - [ ] EliteOrc 처치 (8/10)
  - [ ] EliteOrc 처치 (9/10)
  - [ ] EliteOrc 처치 (10/10)

- [ ] **결과 확인**
  - [ ] 약 60% (6회 정도) 아이템 드롭 발생
  - [ ] 드롭된 아이템 종류 확인

#### 2-3. 보스 (FireDragon) 드롭 테스트

- [ ] **드롭 테스트 (3회)**
  - [ ] FireDragon 처치 (1/3)
  - [ ] FireDragon 처치 (2/3)
  - [ ] FireDragon 처치 (3/3)

- [ ] **결과 확인**
  - [ ] 100% (3회 모두) 아이템 드롭 발생
  - [ ] 드롭된 아이템 종류 확인

### 예상 결과
- 일반 적: 약 30% 드롭
- 정예 적: 약 60% 드롭
- 보스: 100% 드롭
- Console에 `[LootSystem] 아이템 드롭: {아이템명} at {위치}` 로그 출력

---

## 3. 아이템 획득 테스트

### 테스트 목적
드롭된 아이템을 플레이어가 자동 획득하는지 확인

### 체크리스트

- [ ] **DroppedItem 표시 확인**
  - [ ] 적 처치 시 아이템 오브젝트가 생성됨
  - [ ] 아이템 아이콘이 표시됨
  - [ ] 아이템이 부유 애니메이션을 보임 (위아래로 움직임)

- [ ] **자동 획득 테스트**
  - [ ] 플레이어가 아이템에 접근
  - [ ] 플레이어가 아이템과 충돌 시 자동 획득
  - [ ] 아이템 오브젝트가 Scene에서 사라짐

- [ ] **Console 로그 확인**
  - [ ] `[LootSystem] 아이템 획득: {아이템명}`
  - [ ] `[InventorySystem] 아이템 추가: {아이템명} (총 X개)`

- [ ] **아이템 수명 테스트**
  - [ ] 드롭된 아이템을 30초간 방치
  - [ ] 30초 후 아이템이 자동 소멸
  - [ ] Console 로그: `[DroppedItem] {아이템명} 수명 만료로 소멸`

### 예상 결과
- 플레이어가 드롭된 아이템에 접근하면 자동 획득
- 획득한 아이템이 인벤토리에 추가됨
- 30초 후 자동 소멸

---

## 4. 인벤토리 UI 테스트

### 테스트 목적
인벤토리 UI가 정상 동작하는지 확인

### 체크리스트

- [ ] **UI 열기/닫기**
  - [ ] I키 눌러서 인벤토리 열기
  - [ ] InventoryPanel이 화면에 표시됨
  - [ ] I키 다시 눌러서 인벤토리 닫기
  - [ ] InventoryPanel이 화면에서 사라짐

- [ ] **UI 구성 확인**
  - [ ] 타이틀 텍스트: "인벤토리" 표시
  - [ ] 왼쪽 패널: 아이템 목록 (ScrollView)
  - [ ] 오른쪽 패널: 장비 슬롯 (Weapon, Armor, Ring)
  - [ ] 하단: 닫기 버튼

- [ ] **아이템 목록 표시**
  - [ ] 획득한 아이템이 목록에 표시됨
  - [ ] 아이템 아이콘 표시 확인
  - [ ] 아이템 이름 표시 확인
  - [ ] 슬롯 타입 표시 확인 (e.g., [Weapon])
  - [ ] "장착" 버튼 표시 확인

- [ ] **스크롤 테스트**
  - [ ] 아이템 10개 이상 획득
  - [ ] ScrollView 스크롤 동작 확인
  - [ ] 모든 아이템이 목록에 표시됨

- [ ] **닫기 버튼 테스트**
  - [ ] 닫기 버튼 클릭
  - [ ] 인벤토리 UI가 닫힘

### 예상 결과
- I키로 인벤토리 열기/닫기 정상 동작
- 획득한 아이템 목록이 올바르게 표시됨
- ScrollView 스크롤 정상 동작

---

## 5. 장비 장착 테스트

### 테스트 목적
아이템 장착 시 스탯이 변경되고 UI가 업데이트되는지 확인

### 체크리스트

#### 5-1. FireSword 장착 테스트

- [ ] **Setup**
  - [ ] FireSword 획득 (적 처치 또는 Context Menu)
  - [ ] 인벤토리 열기 (I키)
  - [ ] 장착 전 스탯 확인 (StatPanel)

- [ ] **장착**
  - [ ] FireSword의 "장착" 버튼 클릭
  - [ ] Console 로그: `[InventoryUI] FireSword 장착`
  - [ ] Console 로그: `[PlayerStats] FireSword 장착 완료 (Weapon)`

- [ ] **스탯 변경 확인**
  - [ ] StatPanel에서 Attack 스탯 증가 확인
  - [ ] FireSword의 attackBonus 만큼 증가 (예: +5)

- [ ] **UI 업데이트 확인**
  - [ ] FireSword의 "장착" 버튼 → "해제" 버튼으로 변경
  - [ ] 오른쪽 Weapon 슬롯에 FireSword 아이콘 표시
  - [ ] Weapon 슬롯 텍스트: "FireSword"

#### 5-2. LeatherArmor 장착 테스트

- [ ] **장착**
  - [ ] LeatherArmor의 "장착" 버튼 클릭

- [ ] **스탯 변경 확인**
  - [ ] Defense 스탯 증가 확인

- [ ] **UI 업데이트 확인**
  - [ ] Armor 슬롯에 LeatherArmor 아이콘 표시

#### 5-3. IronRing 장착 테스트

- [ ] **장착**
  - [ ] IronRing의 "장착" 버튼 클릭

- [ ] **스탯 변경 확인**
  - [ ] HP, Attack, Defense 스탯 확인

- [ ] **UI 업데이트 확인**
  - [ ] Ring 슬롯에 IronRing 아이콘 표시

### 예상 결과
- 아이템 장착 시 스탯이 즉시 변경됨
- StatPanel UI가 자동 업데이트됨
- 장비 슬롯 UI에 아이템 아이콘이 표시됨

---

## 6. 장비 해제 테스트

### 테스트 목적
아이템 해제 시 스탯이 원래대로 돌아오는지 확인

### 체크리스트

#### 6-1. 아이템 목록에서 해제

- [ ] **FireSword 해제**
  - [ ] FireSword의 "해제" 버튼 클릭
  - [ ] Console 로그: `[InventoryUI] FireSword 장착 해제`
  - [ ] Attack 스탯 감소 확인
  - [ ] Weapon 슬롯이 "비어있음" 상태로 변경

#### 6-2. 장비 슬롯에서 해제

- [ ] **LeatherArmor 해제**
  - [ ] Armor 슬롯 클릭
  - [ ] Console 로그: `[InventoryUI] Armor 슬롯 장착 해제`
  - [ ] Defense 스탯 감소 확인
  - [ ] Armor 슬롯이 "비어있음" 상태로 변경

### 예상 결과
- 아이템 해제 시 스탯이 원래대로 돌아옴
- 장비 슬롯 UI가 "비어있음" 상태로 변경

---

## 7. 통합 테스트

### 테스트 목적
전체 플레이 플로우가 정상 동작하는지 확인

### 체크리스트

- [ ] **풀 사이클 테스트 1 (일반 적)**
  1. [ ] 게임 시작
  2. [ ] 일반 적 (Goblin) 10마리 처치
  3. [ ] 드롭된 아이템 3개 획득
  4. [ ] 인벤토리 열기 (I키)
  5. [ ] 아이템 3개 장착
  6. [ ] StatPanel에서 스탯 변경 확인
  7. [ ] 인벤토리 닫기

- [ ] **풀 사이클 테스트 2 (정예 적)**
  1. [ ] 정예 적 (EliteOrc) 10마리 처치
  2. [ ] 드롭된 아이템 6개 획득
  3. [ ] 인벤토리에서 아이템 장착/해제 반복
  4. [ ] 스탯 변경 확인

- [ ] **풀 사이클 테스트 3 (보스)**
  1. [ ] 보스 (FireDragon) 처치
  2. [ ] 100% 드롭 확인
  3. [ ] 아이템 획득 및 장착
  4. [ ] 최종 스탯 확인

- [ ] **장시간 플레이 테스트**
  - [ ] 30분간 플레이
  - [ ] 아이템 드롭/획득/장착 반복
  - [ ] 메모리 누수 없음 (Unity Profiler)
  - [ ] 성능 저하 없음

### 예상 결과
- 전체 플레이 플로우가 끊김 없이 동작
- 아이템 드롭 → 획득 → 장착 → 해제 사이클 정상
- 장시간 플레이 시 안정성 유지

---

## 🐛 버그 리포트 템플릿

테스트 중 버그 발견 시 아래 형식으로 기록:

```markdown
### 버그 #X: {버그 제목}

**발생 조건**:
-

**재현 단계**:
1.
2.
3.

**예상 결과**:
-

**실제 결과**:
-

**Console 로그**:
```
...
```

**스크린샷**:
(첨부)

**우선순위**: 높음 / 중간 / 낮음
```

---

## ✅ 테스트 완료 기준

다음 조건을 모두 만족해야 Phase C-4 테스트 완료:

- [ ] 모든 LootTable 설정 확인 완료
- [ ] 일반/정예/보스 적 드롭 테스트 통과
- [ ] 아이템 획득 테스트 통과
- [ ] 인벤토리 UI 테스트 통과
- [ ] 장비 장착/해제 테스트 통과
- [ ] 통합 테스트 통과
- [ ] 심각한 버그 0건
- [ ] 중간 버그 2건 이하

---

## 📝 테스트 결과 기록

**테스트 날짜**: _______________
**테스터**: _______________
**Unity 버전**: _______________

**결과**:
- [ ] 통과
- [ ] 부분 통과 (버그 X건)
- [ ] 실패

**발견된 버그 수**:
- 높음: ___ 건
- 중간: ___ 건
- 낮음: ___ 건

**추가 의견**:
```
...
```

---

**작성자**: Claude Code
**버전**: 1.0
**최종 수정일**: 2025-11-18
