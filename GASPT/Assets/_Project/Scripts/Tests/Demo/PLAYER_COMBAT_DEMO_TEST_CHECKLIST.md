# 🧪 PlayerCombatDemo Combat 시스템 검증 체크리스트

> **프로젝트**: GASPT
> **테스트 대상**: PlayerCombatDemo.cs - Combat 시스템 통합 검증
> **문서 버전**: v1.0
> **작성일**: 2025-10-04

---

## 📝 테스트 정보 기록

| 항목 | 내용 |
|------|------|
| **테스트 일시** | ____________년 ____월 ____일 ____:____ |
| **테스터** | _________________________ |
| **Unity 버전** | _________________________ |
| **빌드 버전** | _________________________ |
| **테스트 환경** | □ Editor  □ Standalone Build |
| **총 소요 시간** | ________분 |

---

## 📊 전체 진행 상황

```
진행률: [ ______ / 14 ] STEP 완료
통과율: [ ______ % ]
발견된 버그: [ ______ 개 ]
```

---

## ✅ STEP 1: 초기 설정 및 씬 준비 (예상 시간: 5분)

**시작 시간**: ____:____
**종료 시간**: ____:____
**결과**: □ 통과  □ 실패

### 1.1 Unity 프로젝트 준비
- [pass] Unity Editor 실행
- [pass] Console 창 열기 (Window > General > Console)
- [pass] Game 뷰 확인 가능 상태
- [pass] 컴파일 에러 없음 확인

### 1.2 테스트 씬 생성
- [pass] File > New Scene (또는 Ctrl+N)
- [pass] Scene 이름: "PlayerCombatTest" 저장
- [pass] Hierarchy에서 우클릭 > Create Empty
- [pass] GameObject 이름: "PlayerCombatDemo"
- [pass] PlayerCombatDemo 스크립트 컴포넌트 추가

### 1.3 Inspector 설정 확인
- [pass] Wait For Scene Bootstrap: true
- [pass] Setup Default Combo: true
- [pass] Combo Count: 3
- [pass] Show UI: true
- [pass] Create Ground: true

**메모**:
```
_______________________________________________________________
_______________________________________________________________
_______________________________________________________________
```

---

## ✅ STEP 2: Play 모드 진입 및 자동 생성 확인 (예상 시간: 3분)

**시작 시간**: ____:____
**종료 시간**: ____:____
**결과**: □ 통과  □ 실패

### 2.1 Play 모드 진입
- [pass] Play 버튼 클릭 (또는 Ctrl+P)
- [pass] Console에서 "Player Combat Demo 설정 시작" 메시지 확인
- [pass] Console 에러 없음 확인

### 2.2 자동 생성 확인
- [pass] Player (씬에 청록색 캐릭터)
- [pass] Enemy_0 (오른쪽에 빨간색)
- [pass] Enemy_1 (왼쪽에 빨간색)
- [pass] Enemy_2 (오른쪽 멀리 빨간색)
- [pass] Ground (회색 바닥)
- [pass] DamageSystem
- [pass] Main Camera

### 2.3 플레이어 컴포넌트 확인
- [pass] SpriteRenderer (청록색)
- [pass] Rigidbody2D (Gravity Scale: 3) // CharacterPhysics가 중력 관리함
- [pass] CapsuleCollider2D
- [pass] PlayerController
- [pass] AbilitySystem
- [pass] HealthSystem (PlayerController 내부)
- [pass] ComboSystem (PlayerController 내부)

**메모**:
```
_______________________________________________________________
_______________________________________________________________
_______________________________________________________________
```

---

## ✅ STEP 3: UI 표시 확인 (예상 시간: 2분)

**시작 시간**: ____:____
**종료 시간**: ____:____
**결과**: □ 통과  □ 실패

### 3.1 좌측 상단 UI 패널 확인
- [pass] "=== Player Combat Demo ===" 헤더 표시
- [pass] "Player HP: 100/100" 표시
- [pass] 체력바 (초록색) 표시
- [pass] "Combo: 0 / 3" 표시
- [pass] "Combo Active: False" 표시
- [pass] "=== 통계 ===" 섹션 표시
- [pass] "총 타격: 0" 표시
- [pass] "총 처치: 0" 표시
- [pass] "총 피해: 0.0" 표시
- [pass] 버튼 3개 표시 (체력 회복, 적 재생성, 씬 리셋)

### 3.2 우측 상단 Event Log 확인
- [pass] "=== Event Log ===" 헤더 표시
- [pass] "[DamageSystem] 생성 완료" 메시지
- [pass] "[Player] 생성 완료" 메시지
- [pass] "[Enemy] 3개 생성 완료" 메시지
- [pass] "[Combo] 3단 콤보 설정 완료" 메시지

**메모**:
```
_______________________________________________________________
_______________________________________________________________
_______________________________________________________________
```

---

## ✅ STEP 4: 플레이어 기본 이동 검증 (예상 시간: 3분)

**시작 시간**: ____:____
**종료 시간**: ____:____
**결과**: □ 통과  □ 실패

### 4.1 좌우 이동 테스트
- [pass] A 키 누름 → 플레이어가 왼쪽으로 이동
- [pass] D 키 누름 → 플레이어가 오른쪽으로 이동
- [pass] 이동 시 Rigidbody2D가 반응
- [pass] 바닥과 충돌 확인 (떨어지지 않음)

### 4.2 점프 테스트
- [pass] Space 키 누름 → 플레이어 점프
- [pass] 중력에 의해 다시 착지
- [pass] 바닥 충돌 정상 작동

### 4.3 대시 테스트
- [pass] LShift 키 누름 → 대시 동작 확인
- [pass] 대시 반복 실행 확인 (키를 떼었다 다시 누르면 작동)
- [FIXED 2025-10-04] InputHandler 대시 입력 처리 수정 완료

**메모**:
```
_______________________________________________________________
_______________________________________________________________
_______________________________________________________________
```

---

## ✅ STEP 5: 공격 시스템 기본 검증 (예상 시간: 5분)

**시작 시간**: ____:____
**종료 시간**: ____:____
**결과**: □ 통과  □ 실패

### 5.1 첫 번째 공격 (1단)
- [pass] 플레이어를 Enemy_0 근처로 이동 (D 키)
- [pass] 마우스 좌클릭 또는 X 키 입력
- [pass] Console에서 "[Player] 콤보 시작: 0" 메시지 확인
- [pass] Event Log에서 콤보 시작 확인
- [pass] UI에서 "Combo Active: True" 확인
- [pass] UI에서 "Combo: 0 / 3" 확인 (현재 실행 중인 콤보 인덱스)

**[수정 완료 2025-10-04 v3]**
- InputHandler: GetMouseButtonDown/GetKeyDown 사용하여 정확한 입력 감지
- ComboSystem: RegisterHit에서 StartCombo와 AdvanceCombo 분리
  - 첫 공격: 콤보 시작만 (인덱스 0 유지)
  - 이후 공격: AdvanceCombo로 인덱스 증가
- PlayerAttackState: EnterState 중복 호출 문제 해결
  - EnterState()에서 즉시 ResetAttack() 호출
  - CheckComboInput() 제거하여 FSM 자동 전환만 사용
  - AdvanceCombo() 중복 호출 문제 해결
- PlayerCombatDemo: 콤보 윈도우 1초, 리셋 시간 1.5초로 여유있게 조정


### 5.2 공격 애니메이션/상태 확인
// 애니메이션은 현재 없기 때문에 보류
- [hold] Player GameObject 선택
- [hold] Inspector에서 PlayerController 확인
- [hold] 공격 중 상태 변화 확인

### 5.3 히트박스 생성 확인
- [pass] Hierarchy에서 임시 "Hitbox_Debug" GameObject 확인
- [pass] 공격 후 자동으로 파괴되는지 확인 (0.2초 후 자동 파괴)
- [pass] 히트박스가 반투명 빨간색으로 시각화됨

**[수정 완료 2025-10-04]**
- PlayerAttackState에 히트박스 생성 시스템 구현
  - SpawnHitbox(): ComboData 기반 박스 범위 데미지 적용
  - 0.1초 딜레이 후 히트박스 생성
  - DamageSystem.ApplyBoxDamage() 사용
  - 기본 데미지 10, 콤보별 배율 적용 (1.0, 1.2, 1.4)
- DrawHitboxDebug(): 히트박스 시각화 (반투명 빨간색)

**메모**:
```
_______________________________________________________________
_______________________________________________________________
_______________________________________________________________
```

---
## ✅ STEP 6: 데미지 시스템 검증 (예상 시간: 5분)

**시작 시간**: ____:____
**종료 시간**: ____:____
**결과**: □ 통과  □ 실패

### 6.1 적에게 데미지 입히기
- [pass] 플레이어를 Enemy_0 바로 앞으로 이동
- [pass] 마우스 좌클릭 (1단 공격)
- [pass] Event Log에서 "[Enemy_0] X 데미지" 메시지 확인
- [pass] 통계에서 "총 타격: 1" 확인
- [pass] 통계에서 "총 피해: X.X" 확인

**[수정 완료 2025-10-04]**
- PlayerCombatDemo UI 개선
  - 폰트 크기 증가 (14px)
  - 흰색 텍스트, 노란색 헤더
  - 반투명 검은색 배경 추가 (가독성 향상)
  - "=== 통계 ===" 섹션 Box로 강조
  - 버튼 높이 증가 (30px)

**데미지량 기록**: 10.0 (1단), 12.0 (2단), 14.0 (3단)

### 6.2 적 HealthSystem 확인
- [pass] Enemy_0 GameObject 선택
- [pass] Inspector에서 HealthSystem 컴포넌트 확인
- [pass] Current Health 감소 확인

### 6.3 적 처치 확인
- [pass] 적을 계속 공격하여 체력 0으로 만들기
- [pass] Event Log에서 "[Enemy_0] 사망!" 메시지 확인
- [pass] 통계에서 "총 처치: 1" 확인

**메모**:
```
_______________________________________________________________
_______________________________________________________________
_______________________________________________________________
```

---

## ✅ STEP 7: 콤보 시스템 심화 검증 (예상 시간: 10분)

**시작 시간**: ____:____
**종료 시간**: ____:____
**결과**: □ 통과  □ 실패

### 7.1 3단 콤보 테스트

#### 1단 공격
- [pass] U 키 눌러 콤보 리셋
- [pass] 적에게 접근
- [pass] 마우스 좌클릭
- [pass] Event Log: "[Player] 콤보 시작: 0"
- [pass] UI: "Combo: 0 / 3"
- [pass] Event Log: "[Enemy_X] Y 데미지"

#### 2단 공격 (0.5초 내)
- [pass] 즉시 마우스 좌클릭 (0.5초 내!)
- [pass] Event Log: "[Player] 콤보 진행: 1"
- [pass] UI: "Combo: 1 / 3"
- [pass] Event Log: "[Enemy_X] Z 데미지" (약 20% 증가)

#### 3단 공격 (0.5초 내)
- [pass] 즉시 마우스 좌클릭 (0.5초 내!)
- [pass] Event Log: "[Player] 콤보 진행: 2"
- [pass] Event Log: "[Player] 콤보 완료!"
- [pass] UI: "Combo: 2 / 3"
- [pass] Event Log: "[Enemy_X] W 데미지" (추가 증가)

### 7.2 콤보 윈도우 타이밍 테스트
- [pass] U 키 눌러 콤보 리셋
- [pass] 1단 공격 실행
- [pass] 0.6초 대기 (콤보 윈도우 초과)
- [pass] 다시 공격
- [pass] 콤보가 1단부터 다시 시작하는지 확인

### 7.3 자동 콤보 리셋 테스트
- [pass] 1단 공격 실행
- [pass] 1초 이상 대기
- [pass] UI: "Combo Active: False" 확인
- [pass] 다시 공격 → 1단부터 시작 확인

### 7.4 수동 콤보 리셋 테스트
- [pass] 2단까지 콤보 진행
- [pass] U 키 누름
- [pass] Event Log: "[Combo] 리셋됨" 확인
- [pass] UI: "Combo: 0 / 3" 확인
- [pass] 다시 공격 → 1단부터 시작 확인

**메모**:
```
_______________________________________________________________
_______________________________________________________________
_______________________________________________________________
```

---

## ✅ STEP 8: 데미지 배율 검증 (예상 시간: 5분)

**시작 시간**: ____:____
**종료 시간**: ____:____
**결과**: □ 통과  □ 실패

### 8.1 콤보별 데미지 측정
- [pass] Y 키 눌러 적 재생성
- [pass] U 키 눌러 콤보 리셋
- [pass] Enemy_0에게 1단 공격 → 데미지 D1 기록
- [pass] Y 키 눌러 적 재생성
- [pass] Enemy_0에게 2단 공격 (1단 후 즉시) → 데미지 D2 기록
- [pass] Y 키 눌러 적 재생성
- [pass] Enemy_0에게 3단 공격 (1,2단 후) → 데미지 D3 기록

**데미지 기록**:
```
1단 데미지 (D1): ____________
2단 데미지 (D2): ____________
3단 데미지 (D3): ____________
```

### 8.2 데미지 배율 확인
- [pass] D2 ≈ D1 × 1.2 (±5%) 확인
- [pass] D3 ≈ D1 × 1.4 (±5%) 확인

**계산 결과**:
```
D2 / D1 = ____________ (예상: 1.2)
D3 / D1 = ____________ (예상: 1.4)
```

**메모**:
```
_______________________________________________________________
_______________________________________________________________
_______________________________________________________________
```

---

## ✅ STEP 9: 다중 적 전투 테스트 (예상 시간: 5분)

**시작 시간**: ____:____
**종료 시간**: ____:____
**결과**: □ 통과  □ 실패

### 9.1 여러 적 처치
- [pass] R 키 눌러 씬 리셋
- [pass] Enemy_0 처치 (콤보 사용)
- [pass] 통계: "총 처치: 1" 확인
- [pass] Enemy_1로 이동 후 처치
- [pass] 통계: "총 처치: 2" 확인
- [pass] Enemy_2 처치
- [pass] 통계: "총 처치: 3" 확인

### 9.2 통계 정확성 검증
- [pass] "총 타격" 횟수가 실제 공격 횟수와 일치
- [pass] "총 피해"가 누적되는지 확인
- [pass] Event Log에 모든 데미지가 기록되는지 확인

**통계 기록**:
```
총 타격: ____________
총 처치: ____________
총 피해: ____________
```

**메모**:
```
_______________________________________________________________
_______________________________________________________________
_______________________________________________________________
```

---

## ✅ STEP 10: 플레이어 체력 시스템 검증 (예상 시간: 3분)

**시작 시간**: ____:____
**종료 시간**: ____:____
**결과**: □ 통과  □ 실패

### 10.1 체력 회복 테스트
- [pass] Player GameObject 선택
- [pass] Inspector에서 HealthSystem Current Health 확인
- [pass] T 키 누름 (체력 회복)
- [pass] Event Log: "[Player] 체력 회복 +50" 확인
- [pass] UI: "Player HP" 증가 확인
- [pass] 체력바가 업데이트되는지 확인

### 10.2 최대 체력 제한 테스트
- [pass] T 키를 여러 번 누름
- [pass] 체력이 최대치를 초과하지 않는지 확인
- [pass] UI에 올바르게 표시되는지 확인

**메모**:
```
_______________________________________________________________
_______________________________________________________________
_______________________________________________________________
```

---

## ✅ STEP 11: 테스트 기능 검증 (예상 시간: 3분)

**시작 시간**: ____:____
**종료 시간**: ____:____
**결과**: □ 통과  □ 실패

### 11.1 적 재생성 (Y 키)
- [pass] 모든 적 처치
- [pass] Y 키 누름
- [pass] Event Log: "[Enemy] 3개 생성 완료" 확인
- [pass] Hierarchy에 Enemy_0, 1, 2 다시 생성 확인
- [pass] 적들이 원래 위치에 생성되는지 확인

### 11.2 통계 초기화 (I 키)
- [pass] I 키 누름
- [pass] Event Log: "[Statistics] 초기화됨" 확인
- [pass] UI 통계가 모두 0으로 리셋되는지 확인

### 11.3 씬 리셋 (R 키)
- [pass] R 키 누름
- [pass] 모든 오브젝트가 초기 상태로 돌아가는지 확인
- [pass] Event Log가 초기화되는지 확인
- [pass] 통계가 리셋되는지 확인

### 11.4 도움말 (H 키)
- [pass] H 키 누름
- [pass] Console에 조작법 출력 확인
- [pass] Event Log: "도움말 출력됨" 확인

**메모**:
```
_______________________________________________________________
_______________________________________________________________
_______________________________________________________________
```

---

## ✅ STEP 12: GUI 인터페이스 검증 (예상 시간: 3분)

**시작 시간**: ____:____
**종료 시간**: ____:____
**결과**: □ 통과  □ 실패

### 12.1 버튼 테스트
- [pass] "체력 회복 (T)" 버튼 클릭 → 체력 회복 확인
- [pass] "적 재생성 (Y)" 버튼 클릭 → 적 재생성 확인
- [pass] "씬 리셋 (R)" 버튼 클릭 → 씬 리셋 확인

### 12.2 실시간 UI 업데이트
- [pass] 공격하면서 실시간으로 UI가 업데이트되는지 확인
- [pass] 콤보 상태가 즉시 반영되는지 확인
- [pass] 통계가 실시간으로 증가하는지 확인

**메모**:
```
_______________________________________________________________
_______________________________________________________________
_______________________________________________________________
```

---

## ✅ STEP 13: 이벤트 시스템 검증 (예상 시간: 3분)

**시작 시간**: ____:____
**종료 시간**: ____:____
**결과**: □ 통과  □ 실패

### 13.1 이벤트 발생 확인
- [pass] OnComboStarted 발생
- [pass] OnComboAdvanced 발생
- [pass] OnComboCompleted 발생
- [pass] OnDamaged (적) 발생
- [pass] OnDeath (적) 발생

### 13.2 Event Log 기록 확인
- [pass] 다양한 행동 수행 (공격, 회복, 리셋 등)
- [pass] Event Log에 모든 이벤트가 시간순으로 기록
- [pass] 최대 50개 이벤트 제한 확인

**메모**:
```
_______________________________________________________________
_______________________________________________________________
_______________________________________________________________
```

---

## ✅ STEP 14: 성능 및 안정성 테스트 (예상 시간: 5분)

**시작 시간**: ____:____
**종료 시간**: ____:____
**결과**: □ 통과  □ 실패

### 14.1 장시간 플레이 테스트
- [pass] 3분 동안 연속으로 전투 수행
- [pass] Console에 에러 없는지 확인
- [pass] FPS 드롭 없는지 확인
- [pass] 메모리 누수 없는지 확인

### 14.2 극단적 상황 테스트
- [pass] 초고속 연타 공격 (클릭 연타)
- [pass] 여러 키를 동시에 누름
- [pass] 빠른 씬 리셋 반복 (R 키 연타)
- [pass] 모든 경우에 크래시 없는지 확인

**성능 기록**:
```
평균 FPS: ____________
최저 FPS: ____________
크래시 발생: □ 예  □ 아니오
```

**메모**:
```
_______________________________________________________________
_______________________________________________________________
_______________________________________________________________
```

---

## 🐛 발견된 버그 기록

### 버그 #1

- **발생 단계**: STEP ______
- **심각도**: □ Critical  □ High  □ Medium  □ Low
- **상태**: □ 미해결  □ 해결됨

**현상**:
```
_______________________________________________________________
_______________________________________________________________
```

**재현 방법**:
```
1. ___________________________________________________________
2. ___________________________________________________________
3. ___________________________________________________________
```

**예상 동작**:
```
_______________________________________________________________
```

**실제 동작**:
```
_______________________________________________________________
```

**Console 에러 메시지**:
```
_______________________________________________________________
_______________________________________________________________
```

---

### 버그 #2

- **발생 단계**: STEP ______
- **심각도**: □ Critical  □ High  □ Medium  □ Low
- **상태**: □ 미해결  □ 해결됨

**현상**:
```
_______________________________________________________________
_______________________________________________________________
```

**재현 방법**:
```
1. ___________________________________________________________
2. ___________________________________________________________
3. ___________________________________________________________
```

**예상 동작**:
```
_______________________________________________________________
```

**실제 동작**:
```
_______________________________________________________________
```

**Console 에러 메시지**:
```
_______________________________________________________________
_______________________________________________________________
```

---

### 버그 #3

- **발생 단계**: STEP ______
- **심각도**: □ Critical  □ High  □ Medium  □ Low
- **상태**: □ 미해결  □ 해결됨

**현상**:
```
_______________________________________________________________
_______________________________________________________________
```

**재현 방법**:
```
1. ___________________________________________________________
2. ___________________________________________________________
3. ___________________________________________________________
```

**예상 동작**:
```
_______________________________________________________________
```

**실제 동작**:
```
_______________________________________________________________
```

**Console 에러 메시지**:
```
_______________________________________________________________
_______________________________________________________________
```

---

### 추가 버그 기록

```
_______________________________________________________________
_______________________________________________________________
_______________________________________________________________
_______________________________________________________________
_______________________________________________________________
_______________________________________________________________
_______________________________________________________________
_______________________________________________________________
```

---

## 📊 최종 검증 결과

### 통계 요약

| 항목 | 결과 |
|------|------|
| **총 STEP 수** | 14 |
| **통과한 STEP** | ______ / 14 |
| **실패한 STEP** | ______ / 14 |
| **통과율** | ______% |
| **발견된 버그** | ______ 개 |
| **Critical 버그** | ______ 개 |
| **High 버그** | ______ 개 |
| **Medium 버그** | ______ 개 |
| **Low 버그** | ______ 개 |

### STEP별 결과

```
[ ] STEP 1: 초기 설정 및 씬 준비
[ ] STEP 2: Play 모드 진입 및 자동 생성 확인
[ ] STEP 3: UI 표시 확인
[ ] STEP 4: 플레이어 기본 이동 검증
[ ] STEP 5: 공격 시스템 기본 검증
[ ] STEP 6: 데미지 시스템 검증
[ ] STEP 7: 콤보 시스템 심화 검증
[ ] STEP 8: 데미지 배율 검증
[ ] STEP 9: 다중 적 전투 테스트
[ ] STEP 10: 플레이어 체력 시스템 검증
[ ] STEP 11: 테스트 기능 검증
[ ] STEP 12: GUI 인터페이스 검증
[ ] STEP 13: 이벤트 시스템 검증
[ ] STEP 14: 성능 및 안정성 테스트
```

---

## 🎯 최종 판정

**테스트 결과**: □ 완전 통과 (All Green)  □ 부분 통과 (Yellow)  □ 실패 (Red)

### ✅ 완전 통과 (All Green)
- [ ] 모든 14개 STEP 통과
- [ ] 발견된 버그 0개
- [ ] Console 에러 0개
- **결론**: Combat 시스템 완벽하게 작동

### ⚠️ 부분 통과 (Yellow)
- [ ] 12개 이상 STEP 통과
- [ ] 발견된 버그 1-3개 (Low/Medium 심각도)
- **결론**: 마이너 수정 필요

### ❌ 실패 (Red)
- [ ] 10개 미만 STEP 통과
- [ ] Critical/High 버그 발견
- **결론**: 시스템 재검토 필요

---

## 📝 테스터 의견 및 개선 제안

### 시스템 전반
```
_______________________________________________________________
_______________________________________________________________
_______________________________________________________________
_______________________________________________________________
```

### Combat 시스템
```
_______________________________________________________________
_______________________________________________________________
_______________________________________________________________
_______________________________________________________________
```

### UI/UX
```
_______________________________________________________________
_______________________________________________________________
_______________________________________________________________
_______________________________________________________________
```

### 기타 의견
```
_______________________________________________________________
_______________________________________________________________
_______________________________________________________________
_______________________________________________________________
```

---

## 📎 추가 참고 사항

### 스크린샷/영상 기록

- [ ] 버그 재현 스크린샷 첨부
- [ ] 테스트 영상 촬영
- [ ] Performance Profiler 결과 캡처

**파일 경로**:
```
_______________________________________________________________
_______________________________________________________________
```

### 다음 테스트 계획

**다음 테스트 일정**: ____________년 ____월 ____일

**다음 테스트 항목**:
```
_______________________________________________________________
_______________________________________________________________
_______________________________________________________________
```

---

## ✍️ 서명

| 역할 | 이름 | 서명 | 날짜 |
|------|------|------|------|
| **테스터** | ____________ | ____________ | ____/____/____ |
| **검토자** | ____________ | ____________ | ____/____/____ |
| **승인자** | ____________ | ____________ | ____/____/____ |

---

**문서 버전**: v1.0
**작성일**: 2025-10-04
**최종 수정일**: ____________년 ____월 ____일
**프로젝트**: GASPT (Generic Ability System + FSM)
