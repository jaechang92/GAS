# 작업 로그 업데이트

작업 로그를 자동으로 업데이트합니다.

---

## 📋 수행 작업

### 1. 최근 커밋 확인
- `git log -5 --oneline` 실행
- `git diff HEAD~1 --stat` 실행하여 변경된 파일 확인

### 2. LATEST.md 업데이트
**파일**: `docs/work-logs/LATEST.md`

**업데이트 내용**:
- 날짜를 오늘 날짜로 변경
- 브랜치를 현재 브랜치로 변경
- "현재 진행 중" 섹션에 최신 작업 추가
  - 작업명: 최근 커밋 메시지에서 추출
  - 날짜: 커밋 날짜
  - 주요 변경사항: 변경된 파일 기반
- 이전 "현재 진행 중" 작업은 "최근 완료" 섹션으로 이동 (최대 3개 유지)

### 3. 월별 상세 로그 생성 (옵션)
**조건**: 중요한 작업 완료 시 (커밋 메시지에 "기능:", "리팩토링:", "수정:" 포함)

**경로**: `docs/work-logs/YYYY-MM/`
**파일명**: 커밋 메시지 기반 kebab-case (예: `mvp-pattern-integration.md`)

**내용**:
```markdown
# {작업명}

**날짜**: YYYY-MM-DD
**커밋**: {커밋 해시}
**브랜치**: {브랜치명}

## 작업 개요
{커밋 메시지}

## 변경된 파일
{변경된 파일 목록}

## 주요 변경사항
- {변경사항 1}
- {변경사항 2}

## 관련 커밋
- {관련 커밋들}
```

### 4. Phase 히스토리 업데이트 (옵션)
**조건**: 커밋 메시지에 "Phase" 포함 시

**경로**: `docs/work-logs/phase-history/phase-{X}.md`
**작업**: 해당 Phase 문서에 작업 내역 추가

### 5. README.md 갱신
**파일**: `docs/work-logs/README.md`

**업데이트 내용**:
- "최근 업데이트" 날짜 갱신
- 필요시 월별 로그 목록 추가

---

## 🎯 옵션 처리

사용자가 다음과 같은 옵션을 제공할 수 있습니다:

### `--full`
전체 업데이트 수행:
- LATEST.md 업데이트
- 월별 상세 로그 생성 (강제)
- README.md 갱신

### `--phase {phase-name}`
Phase 완료 업데이트:
- 해당 Phase 히스토리 파일 업데이트
- file-inventory.md 갱신 (생성된 파일 목록)

### 옵션 없음 (기본)
빠른 업데이트:
- LATEST.md만 업데이트
- README.md 날짜만 갱신

---

## ✅ 완료 후 출력

업데이트 완료 후 다음 정보를 출력:

```
✅ 작업 로그 업데이트 완료!

📝 변경된 파일:
- docs/work-logs/LATEST.md
- docs/work-logs/README.md
- docs/work-logs/2025-11/mvp-pattern-integration.md (새로 생성)

📌 최신 작업:
- MVP 패턴 통합 (2025-11-22)

🎯 다음 작업 제안:
- [ ] MVP 패턴 Unity 테스트
```

---

## 📖 사용 예시

### 기본 업데이트
```
/update-worklog
```

### 전체 업데이트 (상세 로그 포함)
```
/update-worklog --full
```

### Phase 완료 업데이트
```
/update-worklog --phase phase-E
```

---

## 🔧 주의사항

1. **파일이 없는 경우**: 자동으로 생성하지 말고, 사용자에게 먼저 문서 구조를 생성해야 함을 알림
2. **날짜 형식**: YYYY-MM-DD 형식 사용
3. **한글 인코딩**: UTF-8 사용
4. **파일명**: kebab-case 사용 (소문자, 하이픈)
5. **월별 폴더**: 존재하지 않으면 자동 생성

---

**이 명령은 작업 로그를 체계적으로 관리하여 프로젝트 히스토리를 추적하기 쉽게 만듭니다.**
